<style type="text/css">
   #colAlumno {
      vertical-align: middle;
   }
   
   table.dataTable thead .sorting::after, table.dataTable thead .sorting_asc::after, table.dataTable thead .sorting_desc::after {
      top: 36px;
   }
</style>

<div class="row">
   <div class="col-xs-12 container">
           <div class="panel panel-default">
           <div class="panel-heading ">
              LISTADO DE ALUMNOS - {{datosGenerales.materia|upper}} [{{datosGenerales.paralelo|upper}}]
           </div>

           <!-- /.panel-heading -->
           <div class="panel-body ">
                   <div class="table-responsive ">
                           <table id="listadoNotasMateria_{{datosGenerales.idMateria}}" class="table table-striped">
                                   <thead>
                                     <tr>
                                        <th id="colAlumno" rowspan="2"> ALUMNO </th>
                                           {% for nombreParcial,componentesParcial in periodosMostrar %}
                                             {% set colspan = componentesParcial.cantComponentes %}
                                           <th class="no-sort" style="text-align:center; border-right-width:4px;" colspan="{{colspan}}"> {{nombreParcial|upper|replace({'_': ' '})}} </th>
                                           {% endfor %}
                                           <th class="no-sort" style="text-align:center;" rowspan="2"> Resultado <br/>del<br/> Semestre</th>
                                     </tr>
                                     
                                     <tr>
                                          {% for nombreParcial,componentesParcial in periodosMostrar %}
                                             {% if componentesParcial.componente is iterable %}
                                                {% for componente in componentesParcial.componente %}
                                              <th class="no-sort" style="text-align:center;"> {{componente|upper}}</th>
                                                {% endfor %}
                                             {% else %}
                                              <th class="no-sort" style="text-align:center;"> {{componentesParcial.componente|upper}}</th>
                                             {% endif %}
                                          {% endfor %}
                                     </tr>
                                   </thead>
                                   <tbody>

                                    {% for keyEst,dataEstudiante in datosEstudiantes %}
                                    <tr>
                                             <td> <div style="float:left;">{{dataEstudiante.estudiante}}</div></td>
                                       {% for keyParcial, dataParcial in dataEstudiante.parciales %}
                                          {% for keyComp, dataComponente in dataParcial %}
                                             <td style="text-align: center; ">{{dataComponente}}</td>
                                          {% endfor %}
                                       {% endfor %}
                                       {% set estadoCiclo = '' %}
                                       {% set classEstadoCiclo = '' %}
                                       {% if dataEstudiante.estadoCiclo == "A"%}
                                          {% set estadoCiclo = 'APROBADO' %}
                                          {% set classEstadoCiclo = 'label-success' %}
                                       {% elseif dataEstudiante.estadoCiclo == "R" %}
                                          {% set estadoCiclo = 'REPROBADO' %}
                                          {% set classEstadoCiclo = 'label-danger' %}
                                       {% elseif dataEstudiante.estadoCiclo == "NF" %}
                                          {% set estadoCiclo = 'NO FINALIZA' %}
                                          {% set classEstadoCiclo = 'label-info' %}
                                       {% endif %}   

                                       <td style="text-align: center;"><span class="label label-sm {{classEstadoCiclo}}" type="button" style="cursor:default;">{{estadoCiclo}}</span></td>
                                    </tr>
                                    {% endfor %}
                                      
                                      
                                      
                                      
                                      
                                      
                                      
                                      {#
                                    {% for dataEstudiante in dataMateriaNotas.estudiantes %}
                                       
                                     <tr>
                                           <td> <div style="float:left;">{{dataEstudiante.estudiante|upper}}</div><div style="float:right;"></td>
                                           {% for dataParciales in dataEstudiante.parciales %}
                                              {% for dataNotas in dataParciales.notas %}
                                                 {% for keyNota, dataNota in dataNotas.nota %}
                                                   {% if dataNota.idTipoNota==5331 %}
                                                      <td class="parcial{{dataNota.idTipoNota}}" style="text-align: right; padding-right: 41px;"> {{dataNota.Nota}}</td>
                                                   {% endif %}
                                                   {% if dataNota.idTipoNota==52 %}
                                                      <td class="parcial{{dataNota.idTipoNota}}" style="text-align: right; padding-right: 41px;"> {{dataNota.Nota}}</td>
                                                   {% endif %}
                                                 {% endfor %}  
                                              {% endfor %}
                                              <td class="totalParcial" style="text-align: right; padding-right: 16px; border-right-width:4px;"> 8.45</td>
                                           {% endfor %}{#
                                           <td style="text-align: right; padding-right: 41px;"> 4.00</td>
                                           <td style="text-align: right; padding-right: 25px;"> 3.00</td>
                                           <td style="text-align: right; padding-right: 16px; border-right-width:4px;"> 7.00</td>
                                           <td style="text-align: right; padding-right: 59px; border-right-width:4px;"> ---</td>
                                           <td style="text-align: center;"><button class="btn btn-success" type="button" style="cursor:default;">Aprobado</button></td>
                                     </tr>
                                    {% endfor %}#}
                                    {# <tr>
                                           <td> <div style="float:left;">QUIÑONEZ NUQUEZ Carlos</div></td>
                                           <td style="text-align: right; padding-right: 41px;"> 3.50</td>
                                           <td style="text-align: right; padding-right: 25px;"> 3.00</td>
                                           <td style="text-align: right; padding-right: 16px; border-right-width:4px;"> 6.50</td>
                                           <td style="text-align: right; padding-right: 41px;"> 1.00</td>
                                           <td style="text-align: right; padding-right: 25px;"> 3.00</td>
                                           <td style="text-align: right; padding-right: 16px; border-right-width:4px;"> 4.00</td>
                                           <td style="text-align: right; padding-right: 59px; border-right-width:4px;"> 2.00</td>
                                           <td style="text-align: center;"><button class="btn btn-danger" type="button" style="cursor:default;">Reprobado</button></td>
                                     </tr>#}

                                   </tbody>
                             </table>
                           </div>
                           <!-- /.table-responsive -->
                   </div>
                   <!-- /.panel-body -->
           </div>
           <!-- /.panel -->
   </div>
</div>
<script type="text/javascript">
   $(document).ready(function(){
      $('#listadoNotasMateria_{{datosGenerales.idMateria}}').DataTable({
         "paging": false,
         "lengthChange": false,
         "searching": true,
         "ordering": true,
         "info": true,
         "autoWidth": false,
         columnDefs: [
            { targets: 'no-sort', orderable: false }
         ],
         "language": {
            "sProcessing":     "Procesando...",
            "sLengthMenu":     "Mostrar _MENU_ registros",
            "sZeroRecords":    "No se encontraron resultados",
            "sEmptyTable":     "Ningún dato disponible en esta tabla",
            "sInfo":           "Mostrando registros del _START_ al _END_ de un total de _TOTAL_ registros",
            "sInfoEmpty":      "Mostrando registros del 0 al 0 de un total de 0 registros",
            "sInfoFiltered":   "(filtrado de un total de _MAX_ registros)",
            "sInfoPostFix":    "",
            "sSearch":         "Buscar:",
            "sUrl":            "",
            "sInfoThousands":  ",",
            "sLoadingRecords": "Cargando...",
            "oPaginate": {
                "sFirst":    "Primero",
                "sLast":     "Último",
                "sNext":     "Siguiente",
                "sPrevious": "Anterior"
            },
            "oAria": {
                "sSortAscending":  ": Activar para ordenar la columna de manera ascendente",
                "sSortDescending": ": Activar para ordenar la columna de manera descendente"
            }
        }
      });
   });
</script>
