{% block home %}
<!-- /.panel-heading -->
<div class="panel-body">
  <!-- Nav tabs -->
  <ul class="nav nav-tabs">
    <li class="active"><a  data-toggle="tab" class="tabNotas" id="notas">Consulta de Notas</a></li>
    {%for count, parcial in arr_parcial %}
    <li><a data-toggle="tab" class="tabNotas"  id="ingreso{{count}}">Ingreso de Notas del {{parcial.parcial}}</a></li>
    {% endfor %}
    <li><a data-toggle="tab" class="tabNotas"  id="ingreso2">Listar Alumnos</a></li>
  </ul>

  <!-- Tab panes -->
  {# <div class="tab-pane fade in active" id="content-notas"></div>#}
  <div class="tab-pane fade in active" id="panelNotasCarrera_{{idCarrera}}">
</div>
</div>

<script type="text/javascript">
   $(document).ready(function() { 
      var condition = '{{ condition }}';
      if (condition == '') {

         var obj_data = {"idMateria" : "{{idMateria}}", "idCarrera" : "{{idCarrera}}"};

         mostrarInfoTabsNotas('panelNotasCarrera_{{idCarrera}}','{{ path('docentes_consulta_notas_materia') }}', obj_data);
      }
      if (condition == 'ingresonotas'){
         tabdocentes('panelNotasCarrera_{{idCarrera}}','{{ path('docentes_mostrar_alumnos') }}','{{idMateria}}','1');
      }
     {#mostrarAlumnos('alumnos3','{ path('docentes_mostrarAlumnoexamen') }','2345');#}
   });

   $(".tabNotas").click(function(){
     var tabs =$(this).attr('id'); 
     var idhtml="";
     
      var idMateria     = '{{ idMateria }}';
         var idCarrera     = '{{ idCarrera }}';

     if(tabs === 'notas' ) {
       idhtml='notas';

       var obj_data = {"idMateria" : idMateria, "idCarrera" : "{{idCarrera}}"};

       mostrarInfoTabsNotas('panelNotasCarrera_{{idCarrera}}','{{ path('docentes_consulta_notas_materia') }}', obj_data);
     }
     if(tabs ==='ingreso1'){
       // alert(idMateria);
       tabdocentes('panelNotasCarrera_{{idCarrera}}','{{ path('docentes_mostrar_alumnos') }}',idMateria,idCarrera);
     }
     else if(tabs==='ingreso2'){
       
       tabdocentes('panelNotasCarrera_{{idCarrera}}','{{ path('admin_lista_estudiantes') }}',idMateria,idCarrera);
     }
     else if(tabs==='ingreso3'){
       
       tabdocentes('panelNotasCarrera_{{idCarrera}}','{{ path('docentes_mostrarAlumnoexamen') }}','2345');
     }
   });
   
   function mostrarInfoTabsNotas(idContenedor,urlConsulta, parametros){
      var obj_data = parametros;
      $.ajax({
         type: 'post',
         url: urlConsulta,
         data: obj_data,
         dataType: "html",
         beforeSend: function() { 
            $( "#"+idContenedor ).html("Cargando, espere por favor...");
            $( "#"+idContenedor ).html( "<div id='loading-bar-spinner-relative'><div class='spinner-icon'></div></div>" );
         },
         error: function(){
            //console.log("hay un error");
            var mensajeErrorNotas   = "Lo sentimos. Se  present√≥ un error para cargar la consulta de las Notas."
            $( "#"+idContenedor ).html(mensajeErrorNotas);
         },
         success: function(data) {
            {#if(data.error === true){
               $( "#loading-bar-spinner-relative" ).remove();
               msg_alert = alert_bootstrap( id, 'Atenci&oacute;n', data.msg, 'sm', 'alert');
               $( "#content-"+id ).append( msg_alert );
               $('#modal-'+id).modal('show');
            }else{
               $( "#content-"+id ).html(data.html);
            }#}
            $("#menu-toggle").click();
            $( "#"+idContenedor ).html(data);
         }
      });
   }
</script>
{% endblock %}	